# Description: Basic Linear Algebra Subprograms
# URL:         http://www.netlib.org/blas/
# Maintainer:  manu, maraku at gmx dot com
# Depends on:  cmake gcc-fortran

name=lapack
version=3.7.0
release=1
source=("http://www.netlib.org/${name}/${name}-${version}.tgz")

build() {
	cd "${name}-${version}"

	mkdir -p build
	cd build

	cmake .. \
		-DCMAKE_BUILD_TYPE=Release        \
		-DCMAKE_SKIP_RPATH=ON             \
		-DBUILD_SHARED_LIBS=ON            \
		-DBUILD_TESTING=OFF               \
		-DCMAKE_INSTALL_PREFIX=/usr       \
		-DCMAKE_INSTALL_LIBDIR=lib        \
		-DCMAKE_Fortran_COMPILER=gfortran \
		-DLAPACKE=ON                      \
		-DCBLAS=ON

	make
	make DESTDIR="${PKG}" install
}

